<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

		<record id="oec_committee_form" model="ir.ui.view">
			<field name="name">oec.committee.form</field>
			<field name="model">oec.committee</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Conseil national">
					<header>
						<button name="action_in_progress" string="Ouvrir" type="object"
							invisible="state != 'draft'" icon="fa-eraser" />
						<button name="action_done" string="Confirmer" type="object"
							invisible=" state != 'in_progress'" icon="fa-check-circle" />
						<button name="print_recap" string="RÃ©cap" type="object"
							invisible="state != 'draft'" icon="fa-check-circle" />
						<field name="state" widget="statusbar" statusbar_visible="draft,in_progress,done" />
					</header>
					<sheet>
						<group>
							<group>
								<field name="name" readonly="1" />
								<field name="pv_filename" column_invisible="1" />
								<field name="pv" widget="binary" filename="pv_filename" />
							</group>
							<group>
								<field name="date" required=" state == 'draft'" />
							</group>
						</group>
						<notebook>
							<page string="Demandes d'inscription">
								<field name="partner_ids" nolabel="1" readonly="1">
									<list>
										<field name="name" />
										<field name="second_name" />
										<field name="status_register" column_invisible="1"/>
										<button name="button_confirm" string="Valider" type="object"
											icon="fa-check"
											style="color:green"
											invisible = " status_register  !=  'in_progress_conseil_national'"
											groups="internship_management_module.group_conseil_national" />
										<button name="button_reject" string="Rejeter" type="object"
											icon="fa-close"
											style="color:red"
											invisible = " status_register != 'in_progress_conseil_national'"
											groups="internship_management_module.group_conseil_national" />
										<button name="print_notification_felicitation" string="Imprimer" type="object"
											icon="fa-print"
											style="color:blue"
											invisible = " status_register != 'registred'"
											groups="internship_management_module.group_gestionnaire" />
										
									</list>
								</field>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<record id="oec_committee_tree" model="ir.ui.view">
			<field name="name">oec.committee.tree</field>
			<field name="model">oec.committee</field>
			<field name="type">list</field>
			<field name="arch" type="xml">
				<list string="Conseil national">
					<field name="name" />
					<field name="date" />
					<field name="state" />
				</list>
			</field>
		</record>


		<record id="oec_committee_action" model="ir.actions.act_window">
			<field name="name">Conseil national</field>
			<field name="res_model">oec.committee</field>
			<field name="view_mode">list,form</field>
		</record>

		<!--<menuitem id="oec_committee_menu" name="Conseil national"
			parent="internship_management_module.oec_register_menu_root"
			sequence="3" />-->


	</data>
</odoo>
    
