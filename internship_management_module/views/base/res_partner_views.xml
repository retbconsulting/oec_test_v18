<odoo>
    <data>
        <record id="action_res_partner_registered" model="ir.actions.act_window">
            <field name="name">Inscrits</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">list,form,activity</field>
            <field name="domain">[('contact_type','=','EC')]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                </p>
            </field>
        </record>

        <record id="action_res_partner_in_progress_register" model="ir.actions.act_window">
            <field name="name">En cours d'inscription</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">list,form,activity</field>
            <field name="domain">[('contact_type','=','TEC')]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                </p>
            </field>
        </record>
        <record id="view_res_partner_registration_reserve_form" model="ir.ui.view">
            <field name="name">RÃ©serve</field>
            <field name="model">res.partner.registration.reserve</field>
            <field name="arch" type="xml">
                <form string="RÃ©serves" version="7.0">
                    <group>
                        <field name="motif"/>
                    </group>
                    <footer>
                        <button name="confirm" string="Confirmer"
                                type="object" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="view_res_partner_registration_unfavorable_form" model="ir.ui.view">
            <field name="name">Retour</field>
            <field name="model">res.partner.registration.unfavorable</field>
            <field name="arch" type="xml">
                <form string="Retour" version="7.0">
                    <group>
                        <field name="motif"/>
                    </group>
                    <footer>
                        <button name="confirm" string="Confirmer"
                                type="object" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="view_res_partner_reject" model="ir.ui.view">
            <field name="name">Rejet</field>
            <field name="model">res.partner.reject</field>
            <field name="arch" type="xml">
                <form string="Rejet" version="7.0">
                    <group>
                        <field name="type"/>
                    </group>
                    <group invisible="type == 'definitif'">
                        <field name="reject_line_ids" nolabel="1">
                            <list editable="bottom">
                                <field name="document"/>
                                <field name="reserve"/>
                            </list>
                        </field>
                    </group>
                    <footer>
                        <button name="confirm" string="Confirmer"
                                type="object" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <!-- Top menu item -->
        <menuitem id="oec_register_menu_root" name="Inscriptions"
                  web_icon="internship_management_module,static/description/icon.png"
                  sequence="2"/>

        <menuitem id="partner_registered_menu" name="Inscrits"
                  parent="oec_register_menu_root" sequence="2"/>

        <menuitem id="partner_registered_submenu" name="Inscrits"
                  parent="partner_registered_menu" action="action_res_partner_registered"
                  sequence="1"/>

        <menuitem id="partner_unregistered_submenu" name="En cours d'inscription"
                  parent="partner_registered_menu" action="action_res_partner_in_progress_register"
                  sequence="2"/>

        <record model="ir.ui.view" id="view_partner_tree_croec">
            <field name="name">res.partner.tree.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">
                <!--<xpath expr="//field[@name='display_name']" position="after">
                    <field name="second_name"/>
                </xpath>-->
                <xpath expr="//field[@name='complete_name']" position="after">
                    <field name="second_name"/>
                    <field name="date_inscription" optional="show"/>
                </xpath>
                <xpath expr="//field[@name='user_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='city']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='country_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_partner_tree_disable_activities">
            <field name="name">res.partner.tree.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='activity_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>
        
        <record id="res_partner_form_internship_view_inherit" model="ir.ui.view">
            <field name="name">res.partner.internship.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <data>
                    <field name="contact_type_id" position="attributes">
                        <attribute name="readonly">1</attribute>
                        <attribute name="groups">internship_management_module.group_internship</attribute>
                    </field>
                    <field name="contact_level_id" position="attributes">
                        <attribute name="readonly">1</attribute>
                        <attribute name="groups">internship_management_module.group_internship</attribute>
                    </field>
                    <field name="internship_controler_id" position="attributes">
                        <attribute name="readonly">1</attribute>
                        <attribute name="groups">internship_management_module.group_internship</attribute>
                    </field>
                    <field name="company_type" position="attributes">
                        <!--                 <attribute name="invisible">1</attribute> -->
                        <attribute name="groups">internship_management_module.group_internship</attribute>
                    </field>
                </data>
            </field>
        </record>
        <record id="res_partner_accounting_form_view_inherit" model="ir.ui.view">
            <field name="name">res.partner.accounting.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.view_partner_property_form"/>
            <field name="arch" type="xml">
                <page name="accounting" position="attributes">
                    <attribute name="invisible">1</attribute>
                </page>
            </field>
        </record>

        <record id="res_partner_crm_form_view_inherit" model="ir.ui.view">
            <field name="name">res.partner.crm.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="crm.view_partners_form_crm1"/>
            <field name="arch" type="xml">
                <button name="action_view_opportunity" position="attributes">
                    <attribute name="invisible">1</attribute>
                </button>
                <button name="schedule_meeting" position="attributes">
                    <attribute name="invisible">1</attribute>
                </button>
            </field>
        </record>

        <record id="res_partner_internship_pivot" model="ir.ui.view">
            <field name="name">res.partner.internship.pivot</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <pivot string="Stagiares" sample="1">
                    <field name="start_date" type="row"/>
                </pivot>
            </field>
        </record>

        <record id="res_partner_sale_form_view_inherit" model="ir.ui.view">
            <field name="name">res.partner.sale.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="sale.res_partner_view_buttons"/>
            <field name="arch" type="xml">
                <button name="action_view_sale_order" position="attributes">

                    <attribute name="invisible">1</attribute>
                </button>

            </field>
        </record>

        <record id="res_partner_purchase_form_view_inherit" model="ir.ui.view">
            <field name="name">res.partner.purchase.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="purchase.res_partner_view_purchase_buttons"/>
            <field name="arch" type="xml">
                <button name="%(purchase.act_res_partner_2_purchase_order)d"
                        position="attributes">
                    <attribute name="invisible">1</attribute>
                </button>
            </field>
        </record>

        <record id="res_partner_account_button_form_view_inherit"
                model="ir.ui.view">
            <field name="name">res.partner.account.button.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.partner_view_buttons"/>
            <field name="arch" type="xml">
                <button name="action_view_partner_invoices" position="attributes">
                    <attribute name="invisible">1</attribute>
                </button>
            </field>
        </record>

        <record id="res_partner_purchase_button_form_view_inherit"
                model="ir.ui.view">
            <field name="name">res.partner.purchase.button.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id"
                   ref="purchase.res_partner_view_purchase_account_buttons"/>
            <field name="arch" type="xml">
                <div name="button_box" position="inside">
                    <button class="oe_stat_button" name="%(purchase.act_res_partner_2_supplier_invoices)d" type="action"
                            groups="account.group_account_invoice"
                            icon="fa-pencil-square-o" help="Vendor Bills" invisible="1">
                        <field string="Vendor Bills" name="supplier_invoice_count" widget="statinfo"/>
                    </button>
                </div>
                <!-- 				<button name="%(purchase.act_res_partner_2_supplier_invoices)d"
                                    position="attributes">
                                    <attribute name="invisible">1</attribute>
                                </button> -->
            </field>
        </record>

        <record id="res_partner_form_cvtheque_view" model="ir.ui.view">
            <field name="name">res.partner.cvtheque.form</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <form string="CVTheque">
                    <sheet>
                        <h1>
                            <field name="type" column_invisible="1"/>
                            <field name="name" default_focus="1" placeholder="Name"
                                   required="type == 'contact'"/>
                        </h1>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="res_partner_tree_cvtheque_view" model="ir.ui.view">
            <field name="name">res.partner.cvtheque.tree</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <list string="CVTheque">
                    <field name="name"/>
                </list>
            </field>
        </record>

        <record id="action_res_partner_cvtheque" model="ir.actions.act_window">
            <field name="name">CVTHEQUE</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">list,form</field>
            <field name="domain">[('resume','!=',False)]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Add a new CVTHEQUE
                </p>
            </field>
        </record>

        <record id="contacts.action_contacts" model="ir.actions.act_window">
            <field name="view_mode">kanban,list,form,activity,pivot</field>
        </record>

        <record id="action_cvtheque_view_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">list</field>
            <field name="view_id" ref="res_partner_tree_cvtheque_view"/>
            <field name="act_window_id" ref="action_res_partner_cvtheque"/>
        </record>
        <record id="action_cvtheque_view_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="res_partner_form_cvtheque_view"/>
            <field name="act_window_id" ref="action_res_partner_cvtheque"/>
        </record>

        <record id="action_res_partner_internship" model="ir.actions.act_window">
            <field name="name">Mon profil</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,list,form,activity</field>
            <field name="domain">[('user_ids','=',uid)]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Add a new stagiare
                </p>
            </field>
        </record>

        <menuitem name="Mon profil" id="menu_partner_internship"
                  action="action_res_partner_internship" parent="contacts.menu_contacts"
                  sequence="0" groups="internship_management_module.group_internship"/>

        <menuitem name="CVTHEQUE" id="menu_partner_resume" action="action_res_partner_cvtheque"
                  parent="contacts.menu_contacts" sequence="0"/>

        <menuitem name="Gestion Stagiaires" id="contacts_res_partner_menu_contacts"
                  parent="contacts.menu_contacts" groups="internship_management_module.group_gestionnaire"/>


        <record id="contacts.menu_contacts" model="ir.ui.menu">
            <field name="name">Gestion Stagiaires</field>
        </record>

        <record id="res_partner_form_view_membership_hide" model="ir.ui.view">
            <field name="name">res.partner.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="membership.view_partner_form"/>
            <field name="arch" type="xml">
                <page name="membership" position="attributes">
                    <attribute name="invisible">contact_type != False</attribute>

                </page>
            </field>
        </record>
        <record id="res_partner_form_view_geolocalize_hide" model="ir.ui.view">
            <field name="name">res.partner.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base_geolocalize.view_crm_partner_geo_form"/>
            <field name="arch" type="xml">
                <page name="geo_location" position="attributes">
                    <attribute name="invisible">contact_type != False</attribute>
                </page>
            </field>
        </record>

    </data>
</odoo>


